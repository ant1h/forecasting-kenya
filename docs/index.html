<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Antoine Herlin" />


<title>Forecasting the economy of Kenya</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Forecasting Kenya</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="forecasting-kenya.html">Speed and Distance</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Forecasting the economy of Kenya</h1>
<h4 class="author">Antoine Herlin</h4>

</div>


<p>This page presents a macroeconomic model I developped for the Kenyan economy with the <a href="https://www.r-project.org/">R language</a>. Code is available <a href="https://github.com/ant1h/forecasting-kenya">here</a>.</p>
<p>The model was estimated on Kenyan data while I did some consulting for the Kenyan National Treasury but the code could probably be easily adapted to other countries.</p>
<div id="objectives-of-the-model" class="section level2">
<h2>Objectives of the model</h2>
<p>The model was developed from a policy maker perspective. This means it could be used to provide insights to support choices in economic policy and public finance.</p>
<p>Knowing this, I think the model should fulfil 3 main objectives:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Provide reliable forecasts in the short-run</strong> (2-3 years).</p></li>
<li><p><strong>Provide insights about the uncertainty around forecasts.</strong> Economic forecast are always uncertain: this can be due to data or modelling limitations but economic behaviors are anyway non-deterministic processes that have inherent uncertainty. A good policy decision framework should not only rely on a central prediction but also take into account other possible outcomes and their probabilities. It is not always easy to persuade a policy makers on the merits of this idea but I really believe that a statement like “there is a 40% that growth will be between 2% and 4%” is much more valuable than to say “it’s going to be 3%”.</p></li>
<li><p><strong>Provide interpretable results.</strong> As it is going to inform discussions on policies, it is important to explain why we ended up with a specific forecast. When estimating the model, this means that we should not only base our modelling choices on statistical fit or forecasting performance but also make sure that there are always economic soundness behind our equations.</p></li>
</ol>
</div>
<div id="quick-look-at-the-data" class="section level2">
<h2>Quick look at the data</h2>
<p>The main data used are the Kenya National Accounts and more specifically GDP by expenditure in constant prices (the demand side of real GDP), as demand-driven forecasting is a common approach for short-run forecasting .Data can be downloaded on the <a href="https://unstats.un.org/unsd/snaama/CountryProfile?ccode=404">United nation website</a>. Additional data on exchange rates, world and regional growth, oil prices, real interest rates come from other public sources like the World Bank website (see all links in the “data.R” file).</p>
<p>Data needs to be parsed in the two CSV files in the repository (“un_gdp_constant.csv” and “ext_data.csv”). Then we run the code from the “data.R” file to import and prepare datasets.</p>
<pre class="r"><code>source(&#39;utils.R&#39;) # Load required libraries and functions
source(&#39;data.R&#39;) # Load and prepare data</code></pre>
<p>Let’s plot real GDP growth since 1970 and contributions from each expenditure to growth:</p>
<pre class="r"><code>plot(contribgdp_plot)</code></pre>
<p><img src="index_files/figure-html/data_exploration-1.png" width="672" /></p>
</div>
<div id="models-estimation" class="section level2">
<h2>Models estimation</h2>
<p>Now that the data is loaded we can work on model estimation. I will estimate 3 different models that I will compare and discuss.</p>
<ol style="list-style-type: decimal">
<li><p>A <strong>baseline univariate model</strong>: just a naive univariate autoregressive model on GDP. This will be used as a benchmark for more elaborated approaches.</p></li>
<li><p>A <strong>pure statistical model</strong> without explicit economic assumptions. I will fit the best autoregressive model for each GDP expenditure without caring too much about economic soundness.</p></li>
<li><p>An <strong>economic model</strong>. Here I will try to balance statistical fit, forecasting performance with economic soundness and interpretability.</p></li>
</ol>
<p>The detailed estimation processes for each model with all steps and specifications discussions can be found in the three files ‘baseline_model.R’, ‘stat_model.R’ and ‘eco_model.R’.</p>
<p>Quicker implementations of models estimations can be found in the file ‘model_functions.R’. For example, an estimation of the economic model is obtained using function <em>emodel</em> as follows:</p>
<pre class="r"><code>source(&#39;model_functions.R&#39;) # Load required libraries and functions</code></pre>
<pre class="r"><code># Choose end of forecast year
end_pred   &lt;- 2030 # user choice for end of forecast
window=c(min(data$Year),max(data$Year),max(data$Year)+1,end_pred)
pred_len &lt;- (end_pred - max(data$Year))

# Uncertainty parameters
int1 &lt;- 60 # first confidence interval  (in %)
int2 &lt;- 95 # second confidence interval (in %)

# Estimate an economic model
eco_model &lt;- quiet(emodel(data,exdata,window))
# Plot forecasts
autoplot(ts(eco_model[[3]]$gdp,start=window[1])) +
  geom_vline(xintercept = window[3]-1.5, color=&#39;blue&#39;) +
  annotate(&quot;text&quot;, x=window[3]+3, y=max(eco_model[[3]]$gdp), label= &quot;Forecast&quot;, color=&#39;blue&#39;,size=5)+
  labs(title = &quot;Real GDP growth forecast from economic model&quot;,y=&#39;Real GDP growth&#39;)</code></pre>
<p><img src="index_files/figure-html/emodel-1.png" width="672" /></p>
</div>
<div id="performance-evaluation" class="section level2">
<h2>Performance evaluation</h2>
<p>So far, the specifications of our models have been chosen based on fit on historical data (with a penalization on complexity like in the AIC information criterion) and some economic sense.</p>
<p>To better assess the actual forecasting performances of these models, it is also important to have out-of-sample performance metrics to have an idea of how well the models would do if we were to use them in the future.</p>
<p>To do that we split our data into two sets. The 1st set (estimation window) will be used to estimate the models. We then forecast for the years of the 2nd set (forecasting window) to compare predictions with actual data and compute a metric to evaluate forecasting accuracy</p>
<p>There are many ways to perform out-of-sample evaluation (Fixed Estimation Window / Expanding Estimation Window / Rolling Estimation Window). Here, I think that we need to take into account that: * we don’t have plenty of data, so we should use as many years as possible in the estimation window * we want our forecasting model to perform well in a 2-3 years forecasting window * we want our forecasting model to perform well in the “current years” (rather than far in the past)</p>
<p>So the strategy I retain here is to estimate models on the window [1970 to Y]. Then forecast for years Y+1 to Y+3, that for Y+1 between 2007 and 2016 (Y+3 from 2009 to 2018).</p>
<p>We can use different metrics for accuracy: * Bias is the difference between the forecasts and the correct outcome (on average) * Variance shows if a narrow range of outcomes is compatible with the forecast * Mean Squared Forecast Error (MSE) is a combination of the two, MSE = SE² + BIAS²</p>
<p>The choice of metric should reflect forecaster’s preferences. Usually it is considered that large error are very costly so MSE is more relevant than just bias. Also note that MSE assume that forecasts errors costs are symetrics, wich is not always the case (ex: deflation often perceived as more costly than inflation).</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
